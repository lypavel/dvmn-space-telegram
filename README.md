# Скачивание изображений с сайтов SpaceX и NASA с дальнейшей их публикацией через телеграм бота.

Репозиторий представляет собой набор скриптов, которые позволят вам в автоматическом режиме скачивать изображения с сайтов SpaceX и NASA, а после публиковать их в телеграм с помощью вашего бота.

## Установка

1. Установите Python3 и все необходимые зависимости через

```
pip install -r requirements.txt
```
2. Получите токен NASA и токен вашего телеграм бота.

3. Создайте в папке со скриптами файл .env и поместите туда следующие строки:

```
NASA_TOKEN = "ваш_токен_NASA"
TG_BOT_TOKEN = "ваш_токен_телеграм_бота"
```

## Использование

### fetch_nasa_apod.py

```
python3 fetch_nasa_apod.py --count <count>
```

Скрипт скачивает изображения из раздела Astronomy Picture of the Day в количестве `<count>` в папку `images/`, расположенную на одном уровне с файлом скрипта. Если `<count>` не указан, то скачивается одно изображение.

### fetch_nasa_epic.py

```
python3 fetch_nasa_epic.py
```

Скрипт скачивает изображения из раздела Earth Polychromatic Imaging Camera в папку `images/`, расположенную на одном уровне с файлом скрипта.

### fetch_spacex_images.py

```
python3 fetch_spacex_images.py --launch_id <launch_id>
```

Скрипт скачивает фотографии указанного в `launch_id` запуска SpaceX в папку `images/`, расположенную на одном уровне с файлом скрипта. Если `launch_id` не указан, то скачиваются фотографии последнего запуска, если они есть.

### upload_image.py

```
python3 upload_image <chat_id> --image_name <image_name>
```

Загружает в указанный через `<chat_id>` телеграм чат изображение `<image_name>` из папки `images/`. Если `<image_name>` не указан, то публикуется случайно выбранное изображение из этой же папки.

**Если размер изображения будет превышать 20 MB, то изображение не будет опубликовано.**

### upload_images.py

```
python3 upload_image <chat_id> --cooldown <cooldown>
```

Бесконечно публикует в указанный через `<chat_id>` телеграм чат изображения из папки `images/`. Если все изображения опубликованы, то они снова перемешиваются и публикуются повторно. Интервал публикации указывается в `<cooldown>` в секундах. Если он не указан, то по-умолчанию равняется четырём часам.

**Если размер изображения будет превышать 20 MB, то изображение не будет опубликовано.**

***

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
